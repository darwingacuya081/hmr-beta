<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily HMR Entry CP1/CP2/CP3</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
  <div class="field">
    <label>Draft Key (use same on phone & laptop)</label>
    <input id="draftKey" type="text" placeholder="Type Draft Key" />
  </div>
  
  <div style="display:flex; gap:10px; margin-bottom:12px;">
    <button class="btnSecondary" id="saveDraft">Save Draft Key</button>
    <button class="btnSecondary" id="loadDraft">Load Draft Key</button>
  </div>

  <div class="wrap">
    <h1>Daily HMR Entry CP1/CP2/CP3</h1>

    <div class="topRow">
      <div class="field">
        <label>Date</label>
        <input id="date" type="date" />
      </div>

      <div class="field">
        <label>CP1 Volume</label>
        <input id="cp1" type="number" step="0.01" placeholder="0" />
      </div>

      <div class="field">
        <label>CP2 Volume</label>
        <input id="cp2" type="number" step="0.01" placeholder="0" />
      </div>

      <div class="field">
        <label>CP3 Volume</label>
        <input id="cp3" type="number" step="0.01" placeholder="0" />
      </div>

      <div class="field scriptUrl">
        <label>Apps Script Web App URL</label>
        <input id="scriptUrl" value="https://hmr-proxy.darwin-gacuya081.workers.dev/" readonly />
      </div>
    </div>

    <label>CP Site</label>
    <select id="cpSite">
      <option value="CP2">CP2</option>
      <option value="CP3">CP3</option>
    </select>

    <!-- MANPOWER -->
    <section class="card" data-role="HEO">
      <div class="cardHead">
        <h2>HEO</h2>
        <button class="btn" data-add="HEO">+ Add HEO</button>
      </div>
      <div class="manHeader">
        <div>Name</div>
        <div>Work Hours</div>
        <div>OT Hours</div>
        <div></div>
      </div>

      <div class="mobileHeader manpowerHeader">
        <div>Name</div>
        <div>Work Hours</div>
        <div>OT Hours</div>
      </div>

      <div class="rows" id="rows-HEO"></div>
    </section>

    <section class="card" data-role="Spotter">
      <div class="cardHead">
        <h2>Spotter</h2>
        <button class="btn" data-add="Spotter">+ Add Spotter</button>
      </div>
      <div class="manHeader">
        <div>Name</div>
        <div>Work Hours</div>
        <div>OT Hours</div>
        <div></div>
      </div>

      <div class="mobileHeader manpowerHeader">
        <div>Name</div>
        <div>Work Hours</div>
        <div>OT Hours</div>
      </div>

      <div class="rows" id="rows-Spotter"></div>
    </section>

    <section class="card" data-role="Helper">
      <div class="cardHead">
        <h2>Helpers</h2>
        <button class="btn" data-add="Helper">+ Add Helper</button>
      </div>
      <div class="manHeader">
        <div>Name</div>
        <div>Work Hours</div>
        <div>OT Hours</div>
        <div></div>
      </div>

      <div class="mobileHeader manpowerHeader">
        <div>Name</div>
        <div>Work Hours</div>
        <div>OT Hours</div>
      </div>

      <div class="rows" id="rows-Helper"></div>
    </section>

    <section class="card" data-role="Flagman">
      <div class="cardHead">
        <h2>Flagman</h2>
        <button class="btn" data-add="Flagman">+ Add Flagman</button>
      </div>
      <div class="manHeader">
        <div>Name</div>
        <div>Work Hours</div>
        <div>OT Hours</div>
        <div></div>
      </div>

      <div class="mobileHeader manpowerHeader">
        <div>Name</div>
        <div>Work Hours</div>
        <div>OT Hours</div>
      </div>

      <div class="rows" id="rows-Flagman"></div>
    </section>

    <!-- EQUIPMENT HMR -->
    <section class="card">
      <div class="cardHead">
        <h2>Equipment HMR</h2>
        <button class="btn" id="addEquipment">+ Add Equipment</button>
      </div>

      <div class="equipHeader">
        <div>Equipment</div>
        <div>Before</div>
        <div>After</div>
        <div>HMR</div>
        <div></div>
      </div>

      <div class="mobileHeader equipmentHeader">
        <div>Equipment</div>
        <div>Before</div>
        <div>After</div>
        <div>HMR</div>
      </div>

      <div class="rows" id="rows-Equipment"></div>
    </section>

    <div class="bottomBar">
      <div class="leftBtns">
        <button class="btnSecondary" id="resetOt">Reset OT</button>
        <button class="btnDanger" id="clearSaved">Clear Saved</button>
      </div>
      <button class="btnPrimary" id="submitAll">Submit All Records</button>
    </div>

    <p class="status" id="status"></p>
  </div>

  <script src="script.js"></script>

<!-- Autocomplete lists (filled by Apps Script masterdata endpoint) -->
<datalist id="dl-heo"></datalist>
<datalist id="dl-spotter"></datalist>
<datalist id="dl-helper"></datalist>
<datalist id="dl-equipment"></datalist>
<datalist id="dl-flagman"></datalist>

</body>
</html>
